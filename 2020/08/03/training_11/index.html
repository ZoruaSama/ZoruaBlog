<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>实训日记 | Day 11. 数据的可视化 | Zorua's Blog</title><meta name="keywords" content="Python,实训,web"><meta name="author" content="Zorua"><meta name="copyright" content="Zorua"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="总述 2020年8月3日。到了实训的第三周的第一天。 今天主要讲了如何用echarts实现数据的可视化。 主要的活动有：  数据打包 echarts远程包 echarts本地包（重点） 数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息。但是，这并不就意味着数据可视化就一定因为要实现其功能用途而令人感到枯燥乏味，或者是为了看上去绚丽多彩而显得极端复杂。为了有效地传达思想概念，美学形式">
<meta property="og:type" content="article">
<meta property="og:title" content="实训日记 | Day 11. 数据的可视化">
<meta property="og:url" content="https://zoruasama.gitee.io/2020/08/03/training_11/index.html">
<meta property="og:site_name" content="Zorua&#39;s Blog">
<meta property="og:description" content="总述 2020年8月3日。到了实训的第三周的第一天。 今天主要讲了如何用echarts实现数据的可视化。 主要的活动有：  数据打包 echarts远程包 echarts本地包（重点） 数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息。但是，这并不就意味着数据可视化就一定因为要实现其功能用途而令人感到枯燥乏味，或者是为了看上去绚丽多彩而显得极端复杂。为了有效地传达思想概念，美学形式">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png">
<meta property="article:published_time" content="2020-08-03T11:30:00.000Z">
<meta property="article:modified_time" content="2020-09-07T08:20:15.719Z">
<meta property="article:author" content="Zorua">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="实训">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zoruasama.gitee.io/2020/08/03/training_11/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6932657b6919c7a90436ce852f93565";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '实训日记 | Day 11. 数据的可视化',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-09-07 16:20:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/note.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/iconfont.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/hideCategory.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/buttons.min.css"><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="Zorua's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/board/"><i class="fa-fw fa fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 列表</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E9%9F%B3%E4%B9%90"><i class="fa-fw /music/"></i><span> 0</span></a></li><li><a class="site-page child" href="/%E7%94%B5%E5%BD%B1"><i class="fa-fw /movies/"></i><span> 1</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165006.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Zorua's Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/board/"><i class="fa-fw fa fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 列表</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/%E9%9F%B3%E4%B9%90"><i class="fa-fw /music/"></i><span> 0</span></a></li><li><a class="site-page child" href="/%E7%94%B5%E5%BD%B1"><i class="fa-fw /movies/"></i><span> 1</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">实训日记 | Day 11. 数据的可视化</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-03T11:30:00.000Z" title="发表于 2020-08-03 19:30:00">2020-08-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-09-07T08:20:15.719Z" title="更新于 2020-09-07 16:20:15">2020-09-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AE%9E%E8%AE%AD%E6%97%A5%E8%AE%B0/">实训日记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>11分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="实训日记 | Day 11. 数据的可视化"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
<h1 id="总述"><a class="markdownIt-Anchor" href="#总述"></a> 总述</h1>
<p>2020年8月3日。到了实训的第三周的第一天。<br />
今天主要讲了如何用echarts实现<strong>数据的可视化</strong>。<br />
主要的活动有：</p>
<ul>
<li>数据打包</li>
<li>echarts远程包</li>
<li>echarts本地包（重点）<br />
数据可视化主要旨在借助于图形化手段，清晰有效地传达与沟通信息。但是，这并不就意味着数据可视化就一定因为要实现其功能用途而令人感到枯燥乏味，或者是为了看上去绚丽多彩而显得极端复杂。为了有效地传达思想概念，美学形式与功能需要齐头并进，通过直观地传达关键的方面与特征，从而实现对于相当稀疏而又复杂的数据集的深入洞察。然而，设计人员往往并不能很好地把握设计与功能之间的平衡，从而创造出华而不实的数据可视化形式，无法达到其主要目的，也就是传达与沟通信息。<br />
因此，我们不仅要掌握数据可视化的办法，也更要懂得如何让组织形式使得传达与沟通的效益最大化。<br />
今天圆满地完成了主要工作，不仅完成了一边听课一边记录笔记，而且课中也没有遇到什么疑难杂症而纠结良久。</li>
</ul>
<p>今天的操作流程，一言以蔽之。对于本地存在的Excel数据、CSV数据等等，可以使用<code>pandas</code>或<code>xlrd</code>来进行提取，而后用<code>echarts</code>把它绘制在网页上。</p>
<div class="snote quote">
ECharts 是一个使用 JavaScript 实现的开源可视化库，涵盖各行业图表，满足各种需求。
ECharts 遵循 Apache-2.0 开源协议，免费商用。
ECharts 兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等）及兼容多种设备，可随时随地任性展示。
</div>
<h1 id="pandasxlrd"><a class="markdownIt-Anchor" href="#pandasxlrd"></a> pandas&amp;xlrd</h1>
<div class="snote quote">
Pandas是一个强大的分析结构化数据的工具集；它的使用基础是Numpy（提供高性能的矩阵运算）；用于数据挖掘和数据分析，同时也提供数据清洗功能。
</div>
<div class="snote quote">
Python中操作excel主要用到xlrd和xlwt这两个库，即xlrd是读excel，xlwt是写excel的库。
</div>
<h2 id="安装流程"><a class="markdownIt-Anchor" href="#安装流程"></a> 安装流程</h2>
<p>在Terminal中键入<code>pip install pandas</code>即可完成pandas的安装（如果没装过numpy和dateutil也会一并装了）。<br />
出现了以下字样的安装成功信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Successfully installed numpy-1.19.1 pandas-1.1.0 python-dateutil-2.8.1</span><br></pre></td></tr></table></figure>
<p>再在Terminal中键入<code>pip install xlrd</code>即可完成xlrd的安装。</p>
<h2 id="数据的获取"><a class="markdownIt-Anchor" href="#数据的获取"></a> 数据的获取</h2>
<p>除了可以用爬虫自己获取网页上的数据外，还可以上<a target="_blank" rel="noopener" href="https://tianchi.aliyun.com/dataset/">阿里云-天池</a>来获取数据。<br />
为了方便练习，选择一些数据量不大的数据集。这里老师选择了<a target="_blank" rel="noopener" href="http://www.stat-nba.com/">NBA数据</a>中的球员勒布朗-詹姆斯的数据。<br />
将网页表格复制到Excel中，得到如下结果。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803093457.png" alt="" /></p>
<h2 id="应用伊始"><a class="markdownIt-Anchor" href="#应用伊始"></a> 应用伊始</h2>
<p>键入<code>python manage.py startapp echarts</code>新建一个应用。<br />
将<code>james.xlsx</code>复制到该应用的文件夹下。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803094147.png" alt="" /></p>
<p>在 <code>tests.py</code> 文件中，键入如下代码以进行测试。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># Create your tests here.</span></span><br><span class="line">data = pd.read_excel(<span class="string">&#x27;james.xlsx&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure>
<p>可以看到输出结果为如下所示。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803094359.png" alt="" /></p>
<h2 id="dataframe"><a class="markdownIt-Anchor" href="#dataframe"></a> DataFrame</h2>
<div class="snote quote">
DataFrame是一种表格型数据结构，它含有一组有序的列，每列可以是不同的值。DataFrame既有行索引，也有列索引，它可以看作是由Series组成的字典，不过这些Series公用一个索引。
</div>
<p>DataFrame的创建有多种方式，不过最重要的还是根据dict进行创建，以及读取csv或者txt文件来创建。<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<p>将刚刚的测试代码修改为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># Create your tests here.</span></span><br><span class="line">data = pd.read_excel(<span class="string">&#x27;james.xlsx&#x27;</span>)</span><br><span class="line">df = pd.DataFrame(data=data,index=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">17</span>)) <span class="comment">#创建了DataFrame, index是行索引, range是列索引</span></span><br><span class="line"><span class="comment"># 输出不同的形式，以便于观察DataFrame。</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(df[<span class="string">&#x27;赛季&#x27;</span>])) <span class="comment">#强制转换为list, 方便后续使用。</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(df[<span class="string">&#x27;得分&#x27;</span>]))</span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;篮板&#x27;</span>])</span><br></pre></td></tr></table></figure>
<p>输出结果为：<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803101318.png" alt="" /></p>
<blockquote>
<p>个人觉得用不用DataFrame，区别仅在于会不会去掉NaN数据。</p>
</blockquote>
<h2 id="views的配置"><a class="markdownIt-Anchor" href="#views的配置"></a> views的配置</h2>
<p>按照之前的实训经验，完成views的配置。<br />
为了使列表的数据以赛季递增，在列表后加入<code>[::-1]</code>完成倒装。</p>
<blockquote>
<p>上课时，我以为用<code>list.reverse()</code>，但是<code>reverse()</code>方法是没有返回值的。<br />
这意味着，不能直接将这个方法写在<code>print</code>函数里。<br />
所以为使代码简短，使用<code>[::-1]</code>确实是最佳解。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse</span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">api_echarts</span>(<span class="params">request</span>):</span></span><br><span class="line">    data = pd.read_excel(<span class="string">&#x27;james.xlsx&#x27;</span>)  <span class="comment"># 这里还有一个路径的问题，如果是现行的代码，会报错，参考下面的图。</span></span><br><span class="line">    df = pd.DataFrame(data=data,index=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">17</span>))</span><br><span class="line">    <span class="built_in">print</span>(df)</span><br><span class="line">    season = (<span class="built_in">list</span>(df[<span class="string">&#x27;赛季&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    score = (<span class="built_in">list</span>(df[<span class="string">&#x27;得分&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    lanban = (<span class="built_in">list</span>(df[<span class="string">&#x27;篮板&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    zhugong = (<span class="built_in">list</span>(df[<span class="string">&#x27;助攻&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&#x27;season&#x27;</span>:season,<span class="string">&#x27;score&#x27;</span>:score,<span class="string">&#x27;lanban&#x27;</span>:lanban,<span class="string">&#x27;zhugong&#x27;</span>:zhugong&#125;)</span><br></pre></td></tr></table></figure>
<div class="hide-block"><button type="button" class="hide-button button--animated" style="background-color: red;color: white">出现的错误
    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803104215.png" alt="" /></p>
</div></div>
<p>为解决这个错误，将代码更改为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse</span><br><span class="line"><span class="keyword">import</span> os   <span class="comment">#新增行</span></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__))) <span class="comment">#新增行，获取项目的绝对路径</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">api_echarts</span>(<span class="params">request</span>):</span></span><br><span class="line">    data = pd.read_excel(os.path.join(BASE_DIR,<span class="string">&#x27;echarts&#x27;</span>,<span class="string">&#x27;james.xlsx&#x27;</span>)) <span class="comment">#修改行</span></span><br><span class="line">    df = pd.DataFrame(data=data,index=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">17</span>))</span><br><span class="line">    <span class="built_in">print</span>(df)</span><br><span class="line">    season = (<span class="built_in">list</span>(df[<span class="string">&#x27;赛季&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    score = (<span class="built_in">list</span>(df[<span class="string">&#x27;得分&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    lanban = (<span class="built_in">list</span>(df[<span class="string">&#x27;篮板&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    zhugong = (<span class="built_in">list</span>(df[<span class="string">&#x27;助攻&#x27;</span>])[::-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&#x27;season&#x27;</span>:season,<span class="string">&#x27;score&#x27;</span>:score,<span class="string">&#x27;lanban&#x27;</span>:lanban,<span class="string">&#x27;zhugong&#x27;</span>:zhugong&#125;)</span><br></pre></td></tr></table></figure>
<p>这样就可以成功获取数据了。</p>
<div class="snote link blue">
语法：<code>os.path.abspath(__file__)</code>
<p>功能：获取当前运行文件的绝对路径</p>
<p>语法：<code>os.path.dirname(path)</code></p>
<p>功能：去掉文件名，返回目录</p>
</div>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803104638.png" alt="" /></p>
<p>完成后，为了和下文的HTML文件对接，还需要在view.py中加入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">echarts_page</span>(<span class="params">request</span>):</span></span><br><span class="line">    <span class="keyword">return</span> render(request,<span class="string">&#x27;echarts.html&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="urls的配置"><a class="markdownIt-Anchor" href="#urls的配置"></a> urls的配置</h2>
<p>在项目的路由配置里，加入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&#x27;echarts/&#x27;</span>,include(<span class="string">&#x27;echarts.urls&#x27;</span>)),</span><br></pre></td></tr></table></figure>
<p>在echarts应用的路由里，加入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&#x27;api_echarts/&#x27;</span>,api_echarts),</span><br><span class="line">path(<span class="string">&#x27;echarts_page&#x27;</span>,echarts_page),</span><br></pre></td></tr></table></figure>
<h1 id="echarts远程包"><a class="markdownIt-Anchor" href="#echarts远程包"></a> echarts远程包</h1>
<div class="snote quote">
远程包：调用CDN需要请求网络资源。
</div>
<p>在templates文件夹下新建一个<code>echarts.html</code></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803105734.png" alt="" /><br />
在头部，添加对jQuery和echarts的引用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/echarts/4.8.0/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>接下来，再在body部分建一个容器来使用echarts。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:900px;height:500px;background: rgba(106,11,233,0.4)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后，新建一个<code>script</code>标签，在其中键入以下代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mycharts = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;box&#x27;</span>));   <span class="comment">//mycharts的内容放在box容器里</span></span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">       <span class="attr">url</span>: <span class="string">&#x27;/echarts/api_echarts/&#x27;</span>,</span><br><span class="line">       <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">       <span class="attr">dataType</span>:<span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">       <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(res);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<p>打开<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/index.html?theme=light">echarts官网</a>获取一个实例的代码。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803112146.png" alt="" /><br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803112219.png" alt="" /><br />
复制左边的代码，到script标签的funtion(res)中，修改数据部分为项目的内容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: res.season,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="attr">data</span>: res.score,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">        <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">    &#125;]</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<p>然后在之后加入以下代码来绘制图形。结果如下图所示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mycharts.setOption(option);</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803112915.png" alt="" /></p>
<h2 id="绘制表格"><a class="markdownIt-Anchor" href="#绘制表格"></a> 绘制表格</h2>
<p>在HTML的body部分加入以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--table是表格标签--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;thead&gt;</code>标签定义表格的表头。该标签用于组合 HTML 表格的表头内容。</li>
<li>thead 元素应该与 tbody 和 tfoot 元素结合起来使用。</li>
<li>tbody 元素用于对 HTML 表格中的主体内容进行分组，而 tfoot 元素用于对 HTML 表格中的表注（页脚）内容进行分组。</li>
<li>tr 代表一行；td 代表一列。</li>
<li>table的属性中有一个<code>border</code>，默认<code>border</code>=“0”，为无边框。这里就是无边框。<br />
在Script标签中加入以下代码：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;res.score.length;i++)&#123;</span><br><span class="line">                $(<span class="string">&#x27;thead tr&#x27;</span>).append(<span class="string">&#x27;&lt;td&gt;&#x27;</span>+res.season[i]+<span class="string">&#x27;&lt;/td&gt;&#x27;</span>);<span class="comment">//追加表头</span></span><br><span class="line">                $(<span class="string">&#x27;tbody tr:eq(0)&#x27;</span>).append(<span class="string">&#x27;&lt;td&gt;&#x27;</span>+res.score[i]+<span class="string">&#x27;&lt;/td&gt;&#x27;</span>);<span class="comment">//追加得分</span></span><br><span class="line">                $(<span class="string">&#x27;tbody tr:eq(1)&#x27;</span>).append(<span class="string">&#x27;&lt;td&gt;&#x27;</span>+res.lanban[i]+<span class="string">&#x27;&lt;/td&gt;&#x27;</span>);<span class="comment">//追加篮板</span></span><br><span class="line">                $(<span class="string">&#x27;tbody tr:eq(2)&#x27;</span>).append(<span class="string">&#x27;&lt;td&gt;&#x27;</span>+res.zhugong[i]+<span class="string">&#x27;&lt;/td&gt;&#x27;</span>);<span class="comment">//追加助攻</span></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p>结果如图所示。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803142332.png" alt="" /></p>
<h1 id="echarts本地包"><a class="markdownIt-Anchor" href="#echarts本地包"></a> echarts本地包</h1>
<p>重点。<br />
调用本地资源，不需要网络。<br />
拓展-静态文件的展示、图片或者文件的上传</p>
<h2 id="调用本地图片"><a class="markdownIt-Anchor" href="#调用本地图片"></a> 调用本地图片</h2>
<p>如果直接在网页中写以下代码时，浏览器并不能找到该资源。因此需进行路由配置。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/bg1.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意到settings.py里有如下内容。因此在项目的根目录新建一个<code>static</code>文件夹。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803144502.png" alt="" /><br />
然后在这句代码的下面，加入下面的代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">STATICFILES_DIRS=[</span><br><span class="line">    os.path.join(BASE_DIR,<span class="string">&#x27;static&#x27;</span>)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>对于这段代码，援引一段来自Django官方文档的解释。</p>
<div class="snote link">
<p class="p subtitle">提供文件/Serving the files</p>
In addition to these configuration steps, you’ll also need to actually serve the static files.
During development, if you use django.contrib.staticfiles, this will be done automatically by runserver when DEBUG is set to True (see django.contrib.staticfiles.views.serve()).
This method is grossly inefficient and probably insecure, so it is unsuitable for production.
See Deploying static files for proper strategies to serve static files in production environments.
<p>除了这些配置步骤之外，您还需要实际提供静态文件。<br />
在开发过程中，如果使用django.contrib.staticfiles，这将是自动完成的runserver，当DEBUG设置为True（见django.contrib.staticfiles.views.serve()）。<br />
此方法效率极低，并且可能不安全，因此不适合生产。<br />
有关在生产环境中提供静态文件的正确策略，请参阅部署静态文件。</p>
</div class>
<p><strong>然后在urls.py中配置static文件夹资源的路由。</strong><br />
先引入下面这几个包并获取项目绝对路径。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> re_path <span class="comment">#正则表达式路径</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> django.views <span class="keyword">import</span> static</span><br><span class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))<span class="comment">#项目绝对路径</span></span><br></pre></td></tr></table></figure>
<p>然后配置下面这条路由。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">r&#x27;^static/(?&lt;path&gt;.*)$&#x27;</span>,static.serve,&#123;<span class="string">&#x27;document_root&#x27;</span>:os.path.join(BASE_DIR,<span class="string">&#x27;static&#x27;</span>)&#125;),</span><br></pre></td></tr></table></figure>
<p>完成后，图片就可以正常的访问了。<br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803150646.png" alt="" /><br />
<img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803150731.png" alt="" /></p>
<h2 id="调用本地js或css"><a class="markdownIt-Anchor" href="#调用本地js或css"></a> 调用本地JS或CSS</h2>
<p>在配置完毕上面的路由之后。也可以调用本地的JS或CSS资源。<br />
以jQuery为例，直接打开<a target="_blank" rel="noopener" href="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js">其CDN链接</a>。复制其中的内容到一个本地的js文件中放在static文件夹下即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/static/js/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="echarts增加细节"><a class="markdownIt-Anchor" href="#echarts增加细节"></a> echarts增加细节</h1>
<p>更多的细节可以查询echarts的<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/api.html">API手册</a>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">                <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>],   <span class="comment">//图线颜色</span></span><br><span class="line">                <span class="attr">xAxis</span>: &#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">                    <span class="attr">data</span>: res.season,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">tooltip</span>:&#123;</span><br><span class="line">                  <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">                  <span class="attr">axisPointer</span>:&#123;</span><br><span class="line">                      <span class="attr">type</span>:<span class="string">&#x27;shadow&#x27;</span>         <span class="comment">//当鼠标移动在点上时的提示窗口</span></span><br><span class="line">                  &#125;,</span><br><span class="line">                  <span class="attr">show</span>:<span class="literal">true</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">legend</span>:&#123;</span><br><span class="line">                    <span class="attr">data</span>:[<span class="string">&#x27;篮板&#x27;</span>,<span class="string">&#x27;助攻&#x27;</span>]    <span class="comment">//图例</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">yAxis</span>: &#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">series</span>: [&#123;</span><br><span class="line">                    <span class="attr">data</span>: res.lanban,</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">                    <span class="attr">name</span>:<span class="string">&#x27;篮板&#x27;</span>,    <span class="comment">//系列名称</span></span><br><span class="line">                    <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    <span class="attr">data</span>: res.zhugong,</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;助攻&#x27;</span>,    <span class="comment">//系列名称</span></span><br><span class="line">                    <span class="attr">smooth</span>: <span class="literal">true</span>,</span><br><span class="line">                &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200803162734.png" alt="" /></p>
<hr class="footnotes-sep" />
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>参考资料：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8024ceef4fe2">https://www.jianshu.com/p/8024ceef4fe2</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
<script type="text&#x2F;javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.7.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.7.0/dist/mindmap.min.css"></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Zorua</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zoruasama.gitee.io/2020/08/03/training_11/">https://zoruasama.gitee.io/2020/08/03/training_11/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zoruasama.gitee.io" target="_blank">Zorua's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/%E5%AE%9E%E8%AE%AD/">实训</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/04/training_12/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">实训日记 | Day 12. Flask框架</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/23/training_3/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">实训日记 | Day 04. 简单的爬虫</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/08/04/training_12/" title="实训日记 | Day 12. Flask框架"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-04</div><div class="title">实训日记 | Day 12. Flask框架</div></div></a></div><div><a href="/2020/08/05/training_13/" title="实训日记 | Day 13. Flask的工程化"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-05</div><div class="title">实训日记 | Day 13. Flask的工程化</div></div></a></div><div><a href="/2020/08/06/training_14/" title="实训日记 | Day 14. 调用第三方API"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-06</div><div class="title">实训日记 | Day 14. 调用第三方API</div></div></a></div><div><a href="/2020/08/07/training_15/" title="实训日记 | Day 15. Django打分系统示例"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-07</div><div class="title">实训日记 | Day 15. Django打分系统示例</div></div></a></div><div><a href="/2020/08/10/training_16/" title="实训日记 | Day 16. 服务器的部署"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-10</div><div class="title">实训日记 | Day 16. 服务器的部署</div></div></a></div><div><a href="/2020/08/11/training_17/" title="实训日记 | Day 17. 一些乱七八糟的随笔"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165415.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-08-11</div><div class="title">实训日记 | Day 17. 一些乱七八糟的随笔</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Zorua</div><div class="author-info__description">要么庸俗，要么孤独。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><a class="button--animated" id="card-info-btn" href="hhttps://github.com/zoruasama"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zoruasama" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zoruasama@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">假勤奋比懒惰更可怕。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text"> 总述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pandasxlrd"><span class="toc-number">2.</span> <span class="toc-text"> pandas&amp;xlrd</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text"> 安装流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E8%8E%B7%E5%8F%96"><span class="toc-number">2.2.</span> <span class="toc-text"> 数据的获取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E4%BC%8A%E5%A7%8B"><span class="toc-number">2.3.</span> <span class="toc-text"> 应用伊始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#dataframe"><span class="toc-number">2.4.</span> <span class="toc-text"> DataFrame</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#views%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">2.5.</span> <span class="toc-text"> views的配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#urls%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">2.6.</span> <span class="toc-text"> urls的配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echarts%E8%BF%9C%E7%A8%8B%E5%8C%85"><span class="toc-number">3.</span> <span class="toc-text"> echarts远程包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E8%A1%A8%E6%A0%BC"><span class="toc-number">3.1.</span> <span class="toc-text"> 绘制表格</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echarts%E6%9C%AC%E5%9C%B0%E5%8C%85"><span class="toc-number">4.</span> <span class="toc-text"> echarts本地包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87"><span class="toc-number">4.1.</span> <span class="toc-text"> 调用本地图片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E6%9C%AC%E5%9C%B0js%E6%88%96css"><span class="toc-number">4.2.</span> <span class="toc-text"> 调用本地JS或CSS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echarts%E5%A2%9E%E5%8A%A0%E7%BB%86%E8%8A%82"><span class="toc-number">5.</span> <span class="toc-text"> echarts增加细节</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/12/21/unity_0/" title="Unity | Unity 窗口介绍"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20211221213345.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity | Unity 窗口介绍"/></a><div class="content"><a class="title" href="/2021/12/21/unity_0/" title="Unity | Unity 窗口介绍">Unity | Unity 窗口介绍</a><time datetime="2021-12-21T13:35:00.000Z" title="发表于 2021-12-21 21:35:00">2021-12-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/20/algorithm_4/" title="算法笔记 | KMP算法"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20210121193809.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法笔记 | KMP算法"/></a><div class="content"><a class="title" href="/2021/12/20/algorithm_4/" title="算法笔记 | KMP算法">算法笔记 | KMP算法</a><time datetime="2021-12-20T13:30:00.000Z" title="发表于 2021-12-20 21:30:00">2021-12-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/24/CrossSpace/" title="Works | 如果穿越到异世界，你的身份是 _____"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20211026154117.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Works | 如果穿越到异世界，你的身份是 _____"/></a><div class="content"><a class="title" href="/2021/11/24/CrossSpace/" title="Works | 如果穿越到异世界，你的身份是 _____">Works | 如果穿越到异世界，你的身份是 _____</a><time datetime="2021-11-24T11:30:00.000Z" title="发表于 2021-11-24 19:30:00">2021-11-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/23/algorithm_3/" title="算法笔记 | 树状数组"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20210121193809.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法笔记 | 树状数组"/></a><div class="content"><a class="title" href="/2021/11/23/algorithm_3/" title="算法笔记 | 树状数组">算法笔记 | 树状数组</a><time datetime="2021-11-23T11:05:00.000Z" title="发表于 2021-11-23 19:05:00">2021-11-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/17/algorithm_2/" title="算法笔记 | 快速幂"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://gitee.com/zoruasama/Zorua-Pic/raw/master/20210121193809.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法笔记 | 快速幂"/></a><div class="content"><a class="title" href="/2021/11/17/algorithm_2/" title="算法笔记 | 快速幂">算法笔记 | 快速幂</a><time datetime="2021-11-17T11:05:00.000Z" title="发表于 2021-11-17 19:05:00">2021-11-17</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://gitee.com/zoruasama/Zorua-Pic/raw/master/20200802165006.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Zorua</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">这是我的底线。</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'YVFPT1pFRjpG5oM88rpDgyj7-MdYXbMMI',
      appKey: 'pry5uB2QzPFBPeMcz9MzkeIz',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="/js/zorua.js"></script><script src="/js/hideCategory.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>